<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaxBot</title>
    <link rel="stylesheet" href="./index.css">
</head>
<body>
    
    <div id="content">
        <div class="div-robot">

            <div class="div-robot-head">
                <div class="orelha-esquerda"></div>
                <div class="cabeca">
                    <div class="display">

                        <div class="grid">
                            
                        </div>


                    </div>
                </div>
                <div class="comunicador">
                    <div class="box1"></div>
                    <div class="antena">
                        <div class="box2"></div>
                        <div class="box3"></div>
                    </div>
                </div>
            </div>
            <div class="div-robot-body">
                <div class="braco-esquerdo">
                    <div class="ombro-esquerdo"></div>
                    <div class="pulso">
                        <hr color="grey"> 
                        <hr color="grey"> 
                        <hr color="grey">
                    </div>
                    <div class="mao"></div>
                </div>
                <div style="display: flex; flex-direction: column;">

                    <div class="corpo">
                        <div style="width: 100%; height: 33.3%; display: flex;">
                            <div style="width: 50%; height: 100%; display: flex; margin-left: 5%;    align-items: center;">
                                <div style="width: 40%; height: 25%; background-color: rgb(182, 179, 179); border: 2px solid black; border-radius: 3px;  box-shadow: 0px 1px 1px #3a3a3a7d; display: flex; align-items: center; ">
                                    <div style="width:33.3%; height: 60%; border: 1px solid black; background-color: green;"></div>
                                    <div style="width: 33.3%; height: 60%;border: 1px solid black; background-color: green"></div>
                                    <div style="width: 33.3%; height: 60%;border: 1px solid black; background-color: green"></div>
                                </div>
                                <div style="width: 2%;
                                height: 15%;
                                background-color: #b6b3b3;
                                border: 1px solid black;
                                border-radius: 0 2px 2px 0;
                             "></div>
                            </div>
                            <div style="width: 50%; height: 100%;  display: flex; justify-content: center; margin-top: 5%;">
                                <div style="width: 50%; height: 100%;  display: flex; justify-content: center; ">
                                    <div style="width:5px; height: 5px; background-color: #2c5cf7; border-radius: 50%; border: 2px solid #4c79a5; box-shadow: 0px 1px 1px #3a3a3a7d; margin-right: 2px;"></div>
                                    <div style="width:5px; height: 5px; background-color: #f77c2c; border-radius: 50%; border: 2px solid #4c79a5; box-shadow: 0px 1px 1px #3a3a3a7d; margin-right: 2px"></div>
                                    <div style="width:5px; height: 5px; background-color: #f72c2c; border-radius: 50%; border: 2px solid #4c79a5; box-shadow: 0px 1px 1px #3a3a3a7d;"></div>

                                </div>
                                
                                
                            </div>
                        </div>
                        
                        <div style="width: 100%; height: 33.3%; display: flex;">
                            <div style="width: 100%; height: 100%;display: flex; align-items: center;">
                                <div style="width: 100%; height: 15%; background-color: rgb(0, 0, 0); box-shadow: 0px 2px 2px #3a3a3a7d;"></div>
                            </div>
                            
                            <div style="width: 100%; height: 100%; background-color: black; border-radius: 50%; display: flex; justify-content: center; align-items: center; box-shadow: 0px 2px 2px #3a3a3a7d;">
                                <div style="width: 60%; height: 60%; background-color: #f7bf2c; border-radius: 50%;"></div>
                            </div>

                            <div style="width: 100%; height: 100%;  display: flex; align-items: center;">
                                <div style="width: 100%; height: 15%; background-color: rgb(0, 0, 0);  box-shadow: 0px 2px 2px #3a3a3a7d;"></div>

                            </div>
                        </div>

                        <div style="width: 100%; height: 33.3%; display: flex;">
                            <div style="width: 33.3%;height: 0; border-top: 3px solid black; margin-top: 5px; box-shadow: 0px 2px 2px #3a3a3a7d;"></div>
                            <div style="width: 33.3%;height: 20%; border: 3px solid black; border-top: none;  margin-top: 5px; box-shadow: 0px 2px 2px #3a3a3a7d;"></div>
                            <div style="width: 33.3%;height: 0; border-top: 3px solid black;  margin-top: 5px; box-shadow: 0px 2px 2px #3a3a3a7d;"></div>
                        </div>

                      
                    </div>
                </div>
                <div class="braco-direito">
                    <div class="ombro-direito"></div>
                    <div class="pulso">
                        <hr color="grey"> 
                        <hr color="grey"> 
                        <hr color="grey">
                    </div>
                    <div class="mao"></div>
                </div>
            </div>
            <div class="div-robot-foot">
                <div class="box1-foot">

                    <div class="perna-esquerda">
                        <div class="perna"> 
                            <hr color="grey"> 
                            <hr color="grey"> 
                            <hr color="grey">
                        </div>
                        <div class="pe"></div>
                        <div style=" width: 40px;
                        box-shadow: 0px 2px 8px rgb(0 0 0);
                        height: 1px;
                    "></div>
                    </div>
                    <div class="perna-direita">
                        <div class="perna">
                            <hr color="grey"> 
                            <hr color="grey"> 
                            <hr color="grey">
                        </div>
                        <div class="pe"></div>
                        <div style=" width: 40px;
                        box-shadow: 0px 2px 8px rgb(0 0 0);
                        height: 1px;
                    "></div>
                    </div>
                </div>
                    <div class="tank">
                        <div class="bottom"></div>
                        <div class="middle">
                            <div style="box-shadow: 0px 1px 1px #262121;
                            margin-top: 20px;
                            background-color: #52280a;
                            padding: 5px;
                            color: gold;
                            border: 2px solid #3a2f2f;
                            font-size: 12px;">MaxBot</div>
                        </div>
                        <div class="top"></div>  
                    </div>
                
            </div>
            

           

        </div>

        <div class="div-actions">

        </div>


    </div>

    <button onclick="setFace()">Feliz</button>

<script>


    const gridDisplay = document.querySelector('.grid')

    let i = 0
    let j = 0
    let x = 0
    while (i < 8) {
            
        while (j < 8 ){
            const spanGrid = document.createElement('span')
            const idSpan = `grid-${i}-${j}`
            const coordinates = `${i},${j}`
    
            spanGrid.setAttribute('class','span-grid')
            spanGrid.setAttribute('id',idSpan)
            spanGrid.setAttribute('onclick',`getCoodinates('${idSpan}')`)
            spanGrid.textContent=''
            gridDisplay.appendChild(spanGrid)

            x+=1
            j+=1
        }
        i+=1
        j=0
        
    }
    

function getCoodinates(id){
    const spanGrid = document.querySelector(`#${id}`)
    if (!spanGrid.classList.contains('active')){
        spanGrid.classList.add('active')
    }
    else{
        spanGrid.classList.remove('active')
    }
}


async function setFace(){
    let spans = document.querySelectorAll('.span-grid.active')
    
    const res = await fetch('http://127.0.0.1:5000/api/robot/')
    
    if(res.ok){
        const data = await res.json()

        for(let span of spans){
            span.classList.remove('active')
        }
        
        for(let coord of data.data){
            let spanFace = document.querySelector(`#grid-${coord[0]}-${coord[1]}`)
                spanFace.classList.add('active')
    }

    }
    
    
    




}
</script>

</body>
</html>

